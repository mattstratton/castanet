<div class="w-full bg-slate-100 dark:bg-slate-800 py-8 px-4 rounded-lg shadow mb-8">
  <div class="max-w-5xl mx-auto">
    <!-- Top row: description and hosts -->
    <div class="flex flex-col md:flex-row items-center md:items-center justify-between gap-6 pb-14">
      <div class="flex-1 min-w-[200px] text-center md:text-left">
        <p class="text-lg text-slate-700 dark:text-slate-200">
          {{ .Site.Params.description | markdownify }}
        </p>
      </div>
      <div class="flex flex-col md:flex-row items-center md:items-end gap-6 mt-6 md:mt-0">
        {{ range $p:= $.Site.Params.authors }}
          <div class="relative flex flex-col items-center w-40 h-40">
            <img alt="{{ $p.name }}" src="{{ $p.thumbnail | absURL }}" class="rounded-full w-40 h-40 object-cover border-2 border-slate-300 dark:border-slate-600">
            <span class="absolute left-1/2 -translate-x-1/2 top-full mt-2 w-40 text-center capitalize text-slate-800 dark:text-slate-100 text-sm">{{ $p.name }}</span>
          </div>
        {{ end }}
      </div>
    </div>

    <!-- Podlove subscribe button -->
     <!-- TODO update to use https://github.com/podlove/podlove-subscribe-button-->
    {{ if (isset .Site.Params "podlove") }}
    <div class="flex justify-center mt-6">
      <script>window.podcastData={'title':'{{ if (isset .Site.Params.podlove "subscribe_title") }}{{ .Site.Params.podlove.subscribe_title }}{{else}}{{ .Title }}{{end}}','subtitle':'{{ .Site.Params.podlove.subscribe_subtitle }}','description':'{{ if (isset .Site.Params.podlove "subscribe_description") }}{{ .Site.Params.podlove.subscribe_description }}{{else}}{{ .Site.Params.Description }}{{end}}','cover':'{{ .Site.Params.podlove.subscribe_cover }}','feeds':[{'type':'{{ .Site.Params.podlove.subscribe_feed_type }}','format':'{{ .Site.Params.podlove.subscribe_feed_format }}','url':'{{ .Site.Params.rss_subscribe }}','directory-url-itunes':'{{ .Site.Params.podlove.itunes_subscribe }}'}]}</script>
      <script class="podlove-subscribe-button" src="https://cdn.podlove.org/subscribe-button/javascripts/app.js" data-language="{{ .Site.Params.podlove.subscribe_language }}" data-size="{{ .Site.Params.podlove.subscribe_size }}" data-json-data="podcastData" data-color="{{ .Site.Params.podlove.subscribe_color }}" data-format="{{ .Site.Params.podlove.subscribe_format }}" data-style="{{ .Site.Params.podlove.subscribe_style }}"></script>
      <noscript><a href="{{ .Site.Params.rss_subscribe }}">Subscribe to feed</a></noscript>
    </div>
    {{ end }}

    <!-- Subscription buttons -->
    <div class="flex flex-col sm:flex-row flex-wrap justify-center gap-3 mt-6 w-full max-w-xl mx-auto">
      {{ if (isset .Site.Params "youtube_subscribe") }}
        <a class="flex items-center gap-2 px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700 transition w-full sm:w-auto justify-center" href="{{ .Site.Params.youtube_subscribe}}">
          <i class="fab fa-youtube"></i> Youtube
        </a>
      {{ end }}
      {{ if (isset .Site.Params "spotify_subscribe") }}
        <a class="flex items-center gap-2 px-4 py-2 rounded bg-green-600 text-white hover:bg-green-700 transition w-full sm:w-auto justify-center" href="{{ .Site.Params.spotify_subscribe}}">
          <i class="fab fa-spotify"></i> Spotify
        </a>
      {{ end }}
      {{ if (isset .Site.Params "itunes_subscribe") }}
        <a class="flex items-center gap-2 px-4 py-2 rounded bg-slate-800 text-white hover:bg-slate-900 transition w-full sm:w-auto justify-center" href="{{ .Site.Params.itunes_subscribe}}">
          <i class="fa fa-podcast"></i> Apple Podcasts
        </a>
      {{ end }}
      {{ if (isset .Site.Params "android_subscribe") }}
        <a class="flex items-center gap-2 px-4 py-2 rounded bg-green-700 text-white hover:bg-green-800 transition w-full sm:w-auto justify-center" href="{{ .Site.Params.android_subscribe }}">
          <i class="fab fa-android"></i> Android
        </a>
      {{ end }}
      {{ with .Site.Params.stitcher_subscribe }}
        <a class="flex items-center gap-2 px-4 py-2 rounded bg-purple-700 text-white hover:bg-purple-800 transition w-full sm:w-auto justify-center" href="{{ . }}">
          <i class="fa fa-podcast"></i> Stitcher
        </a>
      {{ end }}
      {{ if (isset .Site.Params "soundcloud_subscribe") }}
        <a class="flex items-center gap-2 px-4 py-2 rounded bg-orange-500 text-white hover:bg-orange-600 transition w-full sm:w-auto justify-center" href="{{ .Site.Params.soundcloud_subscribe }}">
          <i class="fab fa-soundcloud"></i> Soundcloud
        </a>
      {{ end }}
      {{ if (isset .Site.Params "pocketcasts_subscribe") }}
        <a class="flex items-center gap-2 px-4 py-2 rounded bg-pink-600 text-white hover:bg-pink-700 transition w-full sm:w-auto justify-center" href="{{ .Site.Params.pocketcasts_subscribe }}">
          <i class="fa fa-podcast"></i> PocketCasts
        </a>
      {{ end }}
      {{ if (isset .Site.Params "rss_subscribe" )}}
        <a class="flex items-center gap-2 px-4 py-2 rounded bg-yellow-500 text-white hover:bg-yellow-600 transition w-full sm:w-auto justify-center" href="{{ .Site.Params.rss_subscribe }}">
          <i class="fa fa-rss"></i> Podcast RSS
        </a>
      {{ else }}
        <a class="flex items-center gap-2 px-4 py-2 rounded bg-yellow-500 text-white hover:bg-yellow-600 transition w-full sm:w-auto justify-center" href="{{"episode/index.xml" | absURL }}">
          <i class="fa fa-rss"></i> Podcast RSS
        </a>
      {{ end }}
      {{ $blog := (where .Site.RegularPages "Section" "==" "blog") }}
      {{ if ge (len $blog) 1 }}
        <a class="flex items-center gap-2 px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 transition w-full sm:w-auto justify-center" href="{{"blog/index.xml" | absURL }}">
          <i class="fa fa-rss"></i> Blog RSS
        </a>
      {{ end }}
    </div>
  </div>
</div>
